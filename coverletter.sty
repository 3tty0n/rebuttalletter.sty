% LaTeX rebuttal letter package.
%
% Copyright 2020 Yusuke Izawa
%
% Based on the example by Friedemann Zenke, fzenke.net, and
% original style is made by Dirk Eddelbuettel, Fran and others from
% https://tex.stackexchange.com/questions/2317/latex-style-or-macro-for-detailed-response-to-referee-report
%
% Licensed under cc by-sa 3.0 with attribution required.
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{rebuttalletter}[2020/09/08 Rebuttal Letter]

\RequirePackage{fullpage}
\RequirePackage{xifthen} % package needed for optional arguments

\setlength{\parindent}{2em}
\setlength{\parskip}{1em}

% define counters for reviewers and their points
\newcounter{reviewer}
\setcounter{reviewer}{0}
\newcounter{point}[reviewer]
\setcounter{point}{0}
\newcounter{metapoint}
\setcounter{metapoint}{0}

% This refines the format of how the reviewer/point reference will appear.
\renewcommand{\thepoint}{P\,\thereviewer.\arabic{point}}

\renewcommand{\themetapoint}{P\,\arabic{metapoint}}

% command declarations for reviewer points and our responses
\newcommand{\reviewersection}{%
  \stepcounter{reviewer} \bigskip \hrule \section*{Reviewer \thereviewer}}

\newcommand{\editorsection}{%
  \medskip \hrule \section*{Editor}}

\newcommand{\minorsection}{%
  \medskip \subsection*{Minor}}

\newenvironment{metapoint}
{\refstepcounter{metapoint} \smallskip \noindent
  \flushleft{\textbf{Editor~Point~\themetapoint} ---\ } }
{\par }

\newcommand{\responsetitle}{%
  \section*{Response to the reviewers}}

\newenvironment{point}
{\refstepcounter{point} \smallskip \noindent
  \flushleft{\textbf{Reviewer~Point~\thepoint} ---\ } }
{\par }

\newcommand{\shortpoint}[1]{\refstepcounter{point}  \bigskip \noindent
  \flushleft{\textbf{Reviewer~Point~\thepoint} ---~ }#1\par }

\newenvironment{reply}{%
  \smallskip \noindent \begin{sf}\textbf{Reply}:\  }
  {\smallskip \end{sf}}

\newcommand{\shortreply}[2][]{%
  \medskip \noindent \begin{sf}\textbf{Reply}:\  #2
    \ifthenelse{\equal{#1}{}}{}{ \hfill \footnotesize (#1)}%
    \medskip \end{sf}}

\endinput